<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مصحف الأطفال التفاعلي</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4B0082;
            --secondary: #9370DB;
            --accent: #FFD700;
            --light: #F5F5F5;
            --dark: #2E0854;
            --recording: #FF6347;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #f9f3ff;
            margin: 0;
            padding: 0;
            color: #333;
            background-image: url('https://i.imgur.com/8QJZQ9a.jpg');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }
        
        .quran-container {
            max-width: 1200px;
            margin: 30px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            box-shadow: 0 10px 30px rgba(75, 0, 130, 0.2);
            border: 3px solid var(--accent);
            position: relative;
            overflow: hidden;
        }
        
        .quran-header {
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            z-index: 1;
        }
        
        .quran-header h1 {
            color: var(--primary);
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .quran-header p {
            color: var(--dark);
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .quran-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .quran-tab {
            padding: 12px 25px;
            background-color: white;
            border: 2px solid var(--secondary);
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            color: var(--primary);
            transition: all 0.3s;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
        }
        
        .quran-tab:hover {
            background-color: var(--secondary);
            color: white;
            transform: translateY(-3px);
        }
        
        .quran-tab.active {
            background-color: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        
        .quran-content {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }
        
        .quran-content.active {
            display: block;
        }
        
        /* قسم المصحف */
        .mushaf-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .surah-card {
            background-color: white;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
        }
        
        .surah-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            border-color: var(--accent);
        }
        
        .surah-number {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .surah-name {
            font-size: 1.8rem;
            color: var(--primary);
            margin-bottom: 10px;
            text-align: center;
            padding-right: 50px;
        }
        
        .surah-info {
            color: #666;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.1rem;
        }
        
        .surah-actions {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }
        
        .read-btn {
            padding: 10px 25px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1.1rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }
        
        .read-btn:hover {
            background-color: var(--secondary);
            transform: scale(1.05);
        }
        
        .progress-indicator {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            gap: 5px;
        }
        
        .progress-dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: #e0e0e0;
            transition: all 0.3s;
        }
        
        .progress-dot.active {
            background-color: var(--accent);
            transform: scale(1.2);
        }
        
        /* قسم مراجعة التلاوة */
        .recording-section {
            background-color: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-top: 30px;
            text-align: center;
        }
        
        .recording-header {
            margin-bottom: 20px;
        }
        
        .recording-header h3 {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .recording-header p {
            color: #666;
            font-size: 1.1rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .recording-box {
            border: 3px dashed var(--secondary);
            border-radius: 20px;
            padding: 40px;
            margin: 30px 0;
            background-color: rgba(147, 112, 219, 0.05);
            position: relative;
        }
        
        .recording-icon {
            font-size: 3rem;
            color: var(--primary);
            margin-bottom: 20px;
        }
        
        .recording-btn {
            padding: 12px 30px;
            background-color: var(--recording);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .recording-btn:hover {
            background-color: #ff4500;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }
        
        .recording-btn.recording {
            animation: pulse 1.5s infinite;
        }
        
        .recording-timer {
            font-size: 1.5rem;
            color: var(--primary);
            margin-top: 20px;
            font-weight: bold;
        }
        
        .playback-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            display: none;
        }
        
        .playback-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--secondary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: all 0.3s;
        }
        
        .playback-btn:hover {
            background-color: var(--primary);
            transform: scale(1.1);
        }
        
        .result-section {
            margin-top: 30px;
            display: none;
        }
        
        /* تصميم جديد لمراجعة الأطفال */
        .child-friendly-result {
            text-align: center;
            padding: 20px;
            background-color: #f0e6ff;
            border-radius: 20px;
            margin-top: 20px;
        }
        
        .result-emoji {
            font-size: 4rem;
            margin-bottom: 15px;
        }
        
        .result-message {
            font-size: 1.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .result-score {
            font-size: 1.8rem;
            color: var(--primary);
            font-weight: bold;
            margin: 20px 0;
            display: inline-block;
            padding: 10px 25px;
            background-color: rgba(75, 0, 130, 0.1);
            border-radius: 50px;
        }
        
        .stars {
            margin: 15px 0;
            font-size: 2rem;
            color: var(--accent);
        }
        
        .improvement-tips {
            background-color: white;
            border-radius: 15px;
            padding: 15px;
            margin-top: 20px;
            text-align: right;
        }
        
        .tip-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            padding: 10px;
            background-color: rgba(147, 112, 219, 0.1);
            border-radius: 10px;
        }
        
        .tip-icon {
            margin-left: 10px;
            color: var(--primary);
            font-size: 1.5rem;
        }
        
        /* صفحة قراءة السورة */
        .surah-reading-page {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.95);
            z-index: 1000;
            overflow-y: auto;
            padding: 30px;
            box-sizing: border-box;
        }
        
        .surah-reading-content {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            position: relative;
        }
        
        .close-reading {
            position: absolute;
            top: 15px;
            left: 15px;
            width: 40px;
            height: 40px;
            background-color: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .close-reading:hover {
            background-color: var(--secondary);
            transform: rotate(90deg);
        }
        
        .surah-reading-title {
            text-align: center;
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 20px;
        }
        
        .surah-text {
            font-size: 1.8rem;
            line-height: 3.5rem;
            text-align: center;
            color: var(--dark);
            margin-bottom: 30px;
        }
        
        .aya-number {
            color: var(--primary);
            font-size: 1.2rem;
            vertical-align: super;
            margin: 0 5px;
        }
        
        .done-reading {
            display: block;
            margin: 30px auto 0;
            padding: 12px 30px;
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .done-reading:hover {
            background-color: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 99, 71, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(255, 99, 71, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 99, 71, 0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .bouncing {
            animation: bounce 2s infinite;
        }
        
        @media (max-width: 768px) {
            .mushaf-container {
                grid-template-columns: 1fr;
            }
            
            .quran-header h1 {
                font-size: 2rem;
            }
            
            .surah-card {
                padding: 15px;
            }
            
            .surah-name {
                font-size: 1.5rem;
            }
            
            .surah-reading-content {
                padding: 20px;
            }
            
            .surah-text {
                font-size: 1.5rem;
                line-height: 2.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="quran-container">
        <div class="quran-header">
            <h1><i class="fas fa-book-quran"></i> مصحف الأطفال التفاعلي</h1>
            <p>تعلم السور القصيرة من القرآن الكريم وسجل تقدمك في القراءة</p>
        </div>
        
        <div class="quran-tabs">
            <div class="quran-tab active" data-tab="mushaf"><i class="fas fa-book-open"></i> السور القصيرة</div>
            <div class="quran-tab" data-tab="review"><i class="fas fa-microphone-alt"></i> مراجعة التلاوة</div>
        </div>
        
        <!-- قسم السور القصيرة -->
        <div class="quran-content active" id="mushaf">
            <div class="mushaf-container">
                <!-- سورة الفاتحة -->
                <div class="surah-card">
                    <div class="surah-number">1</div>
                    <div class="surah-name">سورة الفاتحة</div>
                    <div class="surah-info">مكية - 7 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="1">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الناس -->
                <div class="surah-card">
                    <div class="surah-number">114</div>
                    <div class="surah-name">سورة الناس</div>
                    <div class="surah-info">مكية - 6 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="114">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الفلق -->
                <div class="surah-card">
                    <div class="surah-number">113</div>
                    <div class="surah-name">سورة الفلق</div>
                    <div class="surah-info">مكية - 5 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="113">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الإخلاص -->
                <div class="surah-card">
                    <div class="surah-number">112</div>
                    <div class="surah-name">سورة الإخلاص</div>
                    <div class="surah-info">مكية - 4 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="112">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة المسد -->
                <div class="surah-card">
                    <div class="surah-number">111</div>
                    <div class="surah-name">سورة المسد</div>
                    <div class="surah-info">مكية - 5 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="111">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة النصر -->
                <div class="surah-card">
                    <div class="surah-number">110</div>
                    <div class="surah-name">سورة النصر</div>
                    <div class="surah-info">مدنية - 3 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="110">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الكافرون -->
                <div class="surah-card">
                    <div class="surah-number">109</div>
                    <div class="surah-name">سورة الكافرون</div>
                    <div class="surah-info">مكية - 6 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="109">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الكوثر -->
                <div class="surah-card">
                    <div class="surah-number">108</div>
                    <div class="surah-name">سورة الكوثر</div>
                    <div class="surah-info">مكية - 3 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="108">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة الماعون -->
                <div class="surah-card">
                    <div class="surah-number">107</div>
                    <div class="surah-name">سورة الماعون</div>
                    <div class="surah-info">مكية - 7 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="107">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
                
                <!-- سورة قريش -->
                <div class="surah-card">
                    <div class="surah-number">106</div>
                    <div class="surah-name">سورة قريش</div>
                    <div class="surah-info">مكية - 4 آيات</div>
                    <div class="surah-actions">
                        <button class="read-btn" data-surah="106">
                            <i class="fas fa-book-reader"></i> اقرأ السورة
                        </button>
                    </div>
                    <div class="progress-indicator">
                        <div class="progress-dot" data-progress="0"></div>
                        <div class="progress-dot" data-progress="1"></div>
                        <div class="progress-dot" data-progress="2"></div>
                        <div class="progress-dot" data-progress="3"></div>
                        <div class="progress-dot" data-progress="4"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- قسم مراجعة التلاوة -->
        <div class="quran-content" id="review">
            <div class="recording-section">
                <div class="recording-header">
                    <h3><i class="fas fa-microphone-alt"></i> سجل تلاوتك واحصل على تقييم</h3>
                    <p>اختر سورة وقم بتسجيل تلاوتك للحصول على تقييم ونصائح لتحسين أدائك</p>
                </div>
                
                <div style="margin: 20px 0;">
                    <label for="surah-select" style="display: block; margin-bottom: 10px; color: var(--primary); font-weight: bold;">اختر سورة:</label>
                    <select id="surah-select" style="padding: 10px 15px; border-radius: 50px; border: 2px solid var(--secondary); width: 100%; max-width: 300px; font-size: 1rem;">
                        <option value="1">سورة الفاتحة</option>
                        <option value="114">سورة الناس</option>
                        <option value="113">سورة الفلق</option>
                        <option value="112">سورة الإخلاص</option>
                        <option value="111">سورة المسد</option>
                        <option value="110">سورة النصر</option>
                        <option value="109">سورة الكافرون</option>
                        <option value="108">سورة الكوثر</option>
                        <option value="107">سورة الماعون</option>
                        <option value="106">سورة قريش</option>
                    </select>
                </div>
                
                <div class="recording-box">
                    <div class="recording-icon">
                        <i class="fas fa-microphone bouncing"></i>
                    </div>
                    <h4 style="color: var(--primary);" id="selected-surah-title">سورة الفاتحة - الآيات 1-3</h4>
                    <p style="color: #666; margin: 15px 0; font-size: 1.5rem; line-height: 2.5rem;" id="selected-ayat">
                        بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ (1)<br>
                        الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ (2)<br>
                        الرَّحْمَٰنِ الرَّحِيمِ (3)
                    </p>
                    
                    <button class="recording-btn" id="recordBtn">
                        <i class="fas fa-microphone"></i> ابدأ التسجيل
                    </button>
                    
                    <div class="recording-timer" id="timer">00:00</div>
                </div>
                
                <div class="playback-controls" id="playbackControls">
                    <button class="playback-btn" id="playRecording"><i class="fas fa-play"></i></button>
                    <button class="playback-btn" id="stopRecording"><i class="fas fa-stop"></i></button>
                    <button class="playback-btn" id="submitRecording"><i class="fas fa-check"></i></button>
                </div>
                
                <!-- نتيجة التقييم للأطفال -->
                <div class="result-section" id="resultSection">
                    <div class="child-friendly-result">
                        <div class="result-emoji">🎉</div>
                        <div class="result-message" id="result-message">أحسنت! تلاوتك رائعة</div>
                        <div class="result-score" id="result-score">90%</div>
                        
                        <div class="stars" id="stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        
                        <div class="improvement-tips">
                            <h4 style="color: var(--primary); text-align: right; margin-bottom: 15px;">
                                <i class="fas fa-lightbulb"></i> نصائح لتحسين تلاوتك
                            </h4>
                            
                            <div class="tip-item">
                                <div>
                                    <strong>انتبه لمخارج الحروف</strong>
                                    <p>خاصة حرف الراء واللام</p>
                                </div>
                                <i class="fas fa-comment-dots tip-icon"></i>
                            </div>
                            
                            <div class="tip-item">
                                <div>
                                    <strong>تدرب على المدود</strong>
                                    <p>زود مدة المدود قليلاً</p>
                                </div>
                                <i class="fas fa-clock tip-icon"></i>
                            </div>
                            
                            <div class="tip-item">
                                <div>
                                    <strong>الغنة في النون والميم</strong>
                                    <p>ركز على الغنة في الحروف المشددة</p>
                                </div>
                                <i class="fas fa-volume-up tip-icon"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- صفحة قراءة السورة -->
    <div class="surah-reading-page" id="surahReadingPage">
        <div class="surah-reading-content">
            <div class="close-reading" id="closeReading">
                <i class="fas fa-times"></i>
            </div>
            <h2 class="surah-reading-title" id="surahReadingTitle">سورة الفاتحة</h2>
            <div class="surah-text" id="surahText">
                بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ <span class="aya-number">1</span><br>
                الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ <span class="aya-number">2</span><br>
                الرَّحْمَٰنِ الرَّحِيمِ <span class="aya-number">3</span><br>
                مَالِكِ يَوْمِ الدِّينِ <span class="aya-number">4</span><br>
                إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ <span class="aya-number">5</span><br>
                اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ <span class="aya-number">6</span><br>
                صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ <span class="aya-number">7</span>
            </div>
            <button class="done-reading" id="doneReading">
                <i class="fas fa-check"></i> لقد انتهيت من القراءة
            </button>
        </div>
    </div>

    <script>
        // بيانات السور
        const surahsData = {
            1: {
                name: "الفاتحة",
                ayas: [
                    "بِسْمِ اللَّهِ الرَّحْمَٰنِ الرَّحِيمِ",
                    "الْحَمْدُ لِلَّهِ رَبِّ الْعَالَمِينَ",
                    "الرَّحْمَٰنِ الرَّحِيمِ",
                    "مَالِكِ يَوْمِ الدِّينِ",
                    "إِيَّاكَ نَعْبُدُ وَإِيَّاكَ نَسْتَعِينُ",
                    "اهْدِنَا الصِّرَاطَ الْمُسْتَقِيمَ",
                    "صِرَاطَ الَّذِينَ أَنْعَمْتَ عَلَيْهِمْ غَيْرِ الْمَغْضُوبِ عَلَيْهِمْ وَلَا الضَّالِّينَ"
                ],
                type: "مكية"
            },
            114: {
                name: "الناس",
                ayas: [
                    "قُلْ أَعُوذُ بِرَبِّ النَّاسِ",
                    "مَلِكِ النَّاسِ",
                    "إِلَٰهِ النَّاسِ",
                    "مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ",
                    "الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ",
                    "مِنَ الْجِنَّةِ وَالنَّاسِ"
                ],
                type: "مكية"
            },
            113: {
                name: "الفلق",
                ayas: [
                    "قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ",
                    "مِن شَرِّ مَا خَلَقَ",
                    "وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ",
                    "وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ",
                    "وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ"
                ],
                type: "مكية"
            },
            112: {
                name: "الإخلاص",
                ayas: [
                    "قُلْ هُوَ اللَّهُ أَحَدٌ",
                    "اللَّهُ الصَّمَدُ",
                    "لَمْ يَلِدْ وَلَمْ يُولَدْ",
                    "وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ"
                ],
                type: "مكية"
            },
            111: {
                name: "المسد",
                ayas: [
                    "تَبَّتْ يَدَا أَبِي لَهَبٍ وَتَبَّ",
                    "مَا أَغْنَىٰ عَنْهُ مَالُهُ وَمَا كَسَبَ",
                    "سَيَصْلَىٰ نَارًا ذَاتَ لَهَبٍ",
                    "وَامْرَأَتُهُ حَمَّالَةَ الْحَطَبِ",
                    "فِي جِيدِهَا حَبْلٌ مِّن مَّسَدٍ"
                ],
                type: "مكية"
            },
            110: {
                name: "النصر",
                ayas: [
                    "إِذَا جَاءَ نَصْرُ اللَّهِ وَالْفَتْحُ",
                    "وَرَأَيْتَ النَّاسَ يَدْخُلُونَ فِي دِينِ اللَّهِ أَفْوَاجًا",
                    "فَسَبِّحْ بِحَمْدِ رَبِّكَ وَاسْتَغْفِرْهُ ۚ إِنَّهُ كَانَ تَوَّابًا"
                ],
                type: "مدنية"
            },
            109: {
                name: "الكافرون",
                ayas: [
                    "قُلْ يَا أَيُّهَا الْكَافِرُونَ",
                    "لَا أَعْبُدُ مَا تَعْبُدُونَ",
                    "وَلَا أَنتُمْ عَابِدُونَ مَا أَعْبُدُ",
                    "وَلَا أَنَا عَابِدٌ مَّا عَبَدتُّمْ",
                    "وَلَا أَنتُمْ عَابِدُونَ مَا أَعْبُدُ",
                    "لَكُمْ دِينُكُمْ وَلِيَ دِينِ"
                ],
                type: "مكية"
            },
            108: {
                name: "الكوثر",
                ayas: [
                    "إِنَّا أَعْطَيْنَاكَ الْكَوْثَرَ",
                    "فَصَلِّ لِرَبِّكَ وَانْحَرْ",
                    "إِنَّ شَانِئَكَ هُوَ الْأَبْتَرُ"
                ],
                type: "مكية"
            },
            107: {
                name: "الماعون",
                ayas: [
                    "أَرَأَيْتَ الَّذِي يُكَذِّبُ بِالدِّينِ",
                    "فَذَٰلِكَ الَّذِي يَدُعُّ الْيَتِيمَ",
                    "وَلَا يَحُضُّ عَلَىٰ طَعَامِ الْمِسْكِينِ",
                    "فَوَيْلٌ لِّلْمُصَلِّينَ",
                    "الَّذِينَ هُمْ عَن صَلَاتِهِمْ سَاهُونَ",
                    "الَّذِينَ هُمْ يُرَاءُونَ",
                    "وَيَمْنَعُونَ الْمَاعُونَ"
                ],
                type: "مكية"
            },
            106: {
                name: "قريش",
                ayas: [
                    "لِإِيلَافِ قُرَيْشٍ",
                    "إِيلَافِهِمْ رِحْلَةَ الشِّتَاءِ وَالصَّيْفِ",
                    "فَلْيَعْبُدُوا رَبَّ هَٰذَا الْبَيْتِ",
                    "الَّذِي أَطْعَمَهُم مِّن جُوعٍ وَآمَنَهُم مِّنْ خَوْفٍ"
                ],
                type: "مكية"
            }
        };

        // تبديل الأقسام
        const tabs = document.querySelectorAll('.quran-tab');
        const contents = document.querySelectorAll('.quran-content');
        
        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                // إزالة النشاط من جميع الألسنة
                tabs.forEach(t => t.classList.remove('active'));
                // إضافة النشاط للسان المحدد
                tab.classList.add('active');
                
                // إخفاء جميع المحتويات
                contents.forEach(content => content.classList.remove('active'));
                // إظهار المحتوى المحدد
                const tabId = tab.getAttribute('data-tab');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // فتح صفحة قراءة السورة
        const readBtns = document.querySelectorAll('.read-btn');
        const surahReadingPage = document.getElementById('surahReadingPage');
        const closeReading = document.getElementById('closeReading');
        const surahReadingTitle = document.getElementById('surahReadingTitle');
        const surahText = document.getElementById('surahText');
        const doneReading = document.getElementById('doneReading');
        
        readBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const surahNumber = this.getAttribute('data-surah');
                const surah = surahsData[surahNumber];
                
                surahReadingTitle.textContent = `سورة ${surah.name}`;
                
                // بناء نص السورة مع أرقام الآيات
                let surahHTML = '';
                surah.ayas.forEach((aya, index) => {
                    surahHTML += `${aya} <span class="aya-number">${index + 1}</span><br>`;
                });
                
                surahText.innerHTML = surahHTML;
                surahReadingPage.style.display = 'block';
                document.body.style.overflow = 'hidden';
                
                // تخزين السورة الحالية
                surahReadingPage.setAttribute('data-current-surah', surahNumber);
            });
        });
        
        // إغلاق صفحة القراءة
        closeReading.addEventListener('click', function() {
            surahReadingPage.style.display = 'none';
            document.body.style.overflow = 'auto';
        });
        
        // عند الانتهاء من القراءة
        doneReading.addEventListener('click', function() {
            const surahNumber = surahReadingPage.getAttribute('data-current-surah');
            updateProgress(surahNumber);
            
            surahReadingPage.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // عرض رسالة تشجيعية
            alert(`أحسنت! لقد أكملت قراءة سورة ${surahsData[surahNumber].name}`);
        });
        
        // تحديث تقدم القراءة
        function updateProgress(surahNumber) {
            // الحصول على بطاقة السورة
            const surahCard = document.querySelector(`.read-btn[data-surah="${surahNumber}"]`).closest('.surah-card');
            const progressDots = surahCard.querySelectorAll('.progress-dot');
            
            // البحث عن النقطة التالية غير النشطة
            let nextDot = null;
            progressDots.forEach(dot => {
                if (!dot.classList.contains('active') && !nextDot) {
                    nextDot = dot;
                }
            });
            
            // إذا وجدنا نقطة غير نشطة، ننشطها
            if (nextDot) {
                nextDot.classList.add('active');
                
                // إذا كانت النقطة الأخيرة، نغير لون الزر إلى الأخضر
                if (nextDot.getAttribute('data-progress') === '4') {
                    const readBtn = surahCard.querySelector('.read-btn');
                    readBtn.style.backgroundColor = '#4CAF50';
                    readBtn.innerHTML = '<i class="fas fa-check-circle"></i> تمت القراءة';
                    
                    // تخزين في localStorage أن السورة تمت قراءتها
                    localStorage.setItem(`surah_${surahNumber}_read`, 'true');
                }
            }
        }
        
        // عند تحميل الصفحة، نتحقق من السور المقروءة
        window.addEventListener('load', function() {
            readBtns.forEach(btn => {
                const surahNumber = btn.getAttribute('data-surah');
                const surahCard = btn.closest('.surah-card');
                const progressDots = surahCard.querySelectorAll('.progress-dot');
                
                if (localStorage.getItem(`surah_${surahNumber}_read`) === 'true') {
                    // تنشيط جميع النقاط
                    progressDots.forEach(dot => dot.classList.add('active'));
                    
                    // تغيير لون الزر
                    btn.style.backgroundColor = '#4CAF50';
                    btn.innerHTML = '<i class="fas fa-check-circle"></i> تمت القراءة';
                } else {
                    // التحقق من التقدم المحفوظ
                    const progress = localStorage.getItem(`surah_${surahNumber}_progress`) || 0;
                    
                    // تنشيط النقاط حسب التقدم
                    progressDots.forEach((dot, index) => {
                        if (index <= progress) {
                            dot.classList.add('active');
                        }
                    });
                }
            });
        });

        // قسم مراجعة التلاوة
        const surahSelect = document.getElementById('surah-select');
        const selectedSurahTitle = document.getElementById('selected-surah-title');
        const selectedAyat = document.getElementById('selected-ayat');
        
        // عند تغيير السورة في القائمة
        surahSelect.addEventListener('change', function() {
            const surahNumber = this.value;
            const surah = surahsData[surahNumber];
            
            selectedSurahTitle.textContent = `سورة ${surah.name} - الآيات 1-${Math.min(3, surah.ayas.length)}`;
            
            // عرض الآيات الأولى (حد أقصى 3 آيات)
            let ayahsHTML = '';
            const ayahsToShow = Math.min(3, surah.ayas.length);
            
            for (let i = 0; i < ayahsToShow; i++) {
                ayahsHTML += `${surah.ayas[i]} <span class="aya-number">${i + 1}</span><br>`;
            }
            
            selectedAyat.innerHTML = ayahsHTML;
        });

        // تسجيل التلاوة
        const recordBtn = document.getElementById('recordBtn');
        const playbackControls = document.getElementById('playbackControls');
        const timer = document.getElementById('timer');
        const resultSection = document.getElementById('resultSection');
        const resultMessage = document.getElementById('result-message');
        const resultScore = document.getElementById('result-score');
        const stars = document.getElementById('stars');
        
        let recording = false;
        let seconds = 0;
        let timerInterval;
        
        recordBtn.addEventListener('click', () => {
            recording = !recording;
            
            if (recording) {
                // بدء التسجيل
                recordBtn.innerHTML = '<i class="fas fa-stop"></i> إيقاف التسجيل';
                recordBtn.classList.add('recording');
                playbackControls.style.display = 'none';
                resultSection.style.display = 'none';
                
                // بدء المؤقت
                seconds = 0;
                timerInterval = setInterval(() => {
                    seconds++;
                    const mins = Math.floor(seconds / 60);
                    const secs = seconds % 60;
                    timer.textContent = `${mins < 10 ? '0' + mins : mins}:${secs < 10 ? '0' + secs : secs}`;
                }, 1000);
            } else {
                // إيقاف التسجيل
                recordBtn.innerHTML = '<i class="fas fa-microphone"></i> ابدأ التسجيل';
                recordBtn.classList.remove('recording');
                clearInterval(timerInterval);
                
                // إظهار عناصر التشغيل
                playbackControls.style.display = 'flex';
            }
        });
        
        // إرسال التسجيل
        const submitRecording = document.getElementById('submitRecording');
        submitRecording.addEventListener('click', () => {
            // محاكاة إرسال التسجيل والحصول على النتيجة
            playbackControls.style.display = 'none';
            resultSection.style.display = 'block';
            
            // نتائج عشوائية للعرض التوضيحي
            const randomScore = Math.floor(Math.random() * 30) + 70; // بين 70 و 100
            resultScore.textContent = `${randomScore}%`;
            
            // تحديد الرسالة حسب النتيجة
            if (randomScore >= 90) {
                resultMessage.textContent = "ممتاز! تلاوتك رائعة جداً";
                stars.innerHTML = '<i class="fas fa-star"></i>'.repeat(5);
            } else if (randomScore >= 80) {
                resultMessage.textContent = "جيد جداً! واصل التقدم";
                stars.innerHTML = '<i class="fas fa-star"></i>'.repeat(4) + '<i class="fas fa-star-half-alt"></i>';
            } else if (randomScore >= 70) {
                resultMessage.textContent = "جيد! يمكنك التحسين";
                stars.innerHTML = '<i class="fas fa-star"></i>'.repeat(4);
            } else {
                resultMessage.textContent = "حاول مرة أخرى! تحتاج للمزيد من التدريب";
                stars.innerHTML = '<i class="fas fa-star"></i>'.repeat(3);
            }
            
            // Scroll to result
            resultSection.scrollIntoView({ behavior: 'smooth' });
        });
    </script>
</body>
</html>